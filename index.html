<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Association – One Pager</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header class="header">
    <img src="logo.png" alt="Logo de l’association, Wheelies" class="logo">
  </header>

  <main>

    <section class="hero" aria-labelledby="titre-asso">
      <h1 id="titre-asso" class="sr-only">
        Nom de l’association
      </h1>
      <!-- <img src="illu.png" alt="Photo représentant les actions de l’association"> -->
    </section>

    <section class="intro">
      <p>
        Texte d’introduction de l’association.  
        Présentez votre mission, vos valeurs, et l’objectif de l’asso en quelques lignes.
      </p>
    </section>

   
    <section class="form-section" aria-labelledby="titre-inscription">
  <h2 id="titre-inscription">S’inscrire à l’association</h2>

  <form id="asso-form">
    <div class="form-group">
      <label for="prenom">Prénom</label>
      <input id="prenom" type="text" name="entry.276605977" required>
    </div>

    <div class="form-group">
      <label for="nom">Nom</label>
      <input id="nom" type="text" name="entry.696105728" required>
    </div>

    <div class="form-group">
      <label for="email">Adresse email</label>
      <input id="email" type="email" name="entry.208143804" required>
    </div>

    <button type="submit">S’inscrire à l’association</button>
  </form>

  <p id="confirmation" style="display:none; margin-top:1rem; font-weight:bold;">
    C’est noté, à très vite !
  </p>
</section>

<script>
  const form = document.getElementById('asso-form');
  const confirmation = document.getElementById('confirmation');

  form.addEventListener('submit', function(e) {
    e.preventDefault(); // empêche l'envoi classique

    // Prépare les données
    const data = new FormData(form);

    // Envoie vers Google Forms
    fetch('https://docs.google.com/forms/d/e/1FAIpQLSed-68TBMO03Rk4AoThTfBckTWN_LHxQhUgEeev1HKVpgPuwQ/formResponse', {
      method: 'POST',
      mode: 'no-cors',
      body: data
    })
    .then(() => {
      // Affiche le message de confirmation
      form.style.display = 'none';
      confirmation.style.display = 'block';
    })
    .catch((err) => {
      console.error('Erreur lors de l’envoi', err);
      confirmation.textContent = "Oups, une erreur est survenue. Réessayez !";
      confirmation.style.display = 'block';
    });
  });
</script>



  </main>

<footer class="footer">
    <a class="mail" href="mailto:contact@asso.fr"
        aria-label="Envoyer un email à l’association">
        <img src="mail.svg" alt="" role="presentation">
    </a>
    <a class="insta" href="https://www.instagram.com/thewheeliesproject/"
        target="_blank"
        rel="noopener"
        aria-label="Compte Instagram de l’association">
        <img src="insta.svg" alt="" role="presentation">
    </a>
</footer>

</body>
</html>
